pipeline {
	agent any
	stages {
		stage('monitor') {
			steps {
				echo "Etape de build"
				sh 'python3 --version'
			}
		}	 
      	        stage( 'Scan') {
        		steps {
                                echo "Etape de execution"
				sh 'python3 dateEnPython.py'
          		  }    
	         }	 
		stage('SonarQube Analysis') {
     			steps {
				withSonarQubeEnv('sonar') {
         				sh "python3 dateEnPython.py sonar:sonar"
    			 	}
    			}
		}
	}
}
